<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="inherit_view_partner_form" model="ir.ui.view">
        <field name="name">inherit.res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <!-- clear for online_meeting -->
            <xpath expr="//form//sheet//group//group[1]" position="attributes">
                <attribute name="invisible">_interface_company_type == 'online_meeting'</attribute>
            </xpath>
            <!-- modify for location -->
            <xpath expr="//form//sheet//group//group[2]" position="attributes">
                <attribute name="invisible">_interface_company_type == 'location' or _interface_company_type == 'online_meeting'</attribute>
            </xpath>
            <xpath expr="//form//sheet//group//group//span[@name='address_name']" position="replace">
                <span class="o_form_label o_td_label" name="address_name">
                    <field name="type" invisible="1" readonly="user_ids" required="not is_company" class="fw-bold"/>
                    <b>Address</b>
                </span>
            </xpath>
            <xpath expr="//form//sheet//group//group//field[@name='vat']" position="attributes">
                <attribute name="invisible">_interface_company_type == 'location'</attribute>
            </xpath>
            <xpath expr="//form//sheet//group" position="inside">
                <group invisible="not(_interface_company_type == 'location')">
                    <field name="phone" widget="phone"/>
                    <field name="mobile" widget="phone"/>
                    <field name="user_ids" invisible="1"/>
                    <field name="email" widget="email" context="{'gravatar_image': True}" required="user_ids"/>
                    <field name="website" string="Website" widget="url" placeholder="e.g. https://www.odoo.com"/>
                    <field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"
                           placeholder='e.g. "B2B", "VIP", "Consulting", ...'/>
                </group>
            </xpath>

            <!-- new xml -->
            <xpath expr="//form//sheet//group" position="inside">
                <group invisible="not(_interface_company_type == 'online_meeting')">
                    <field name="phone" widget="phone"/>
                    <field name="mobile" widget="phone"/>
                    <field name="user_ids" invisible="1"/>
                    <field name="email" widget="email" context="{'gravatar_image': True}" required="user_ids"/>
                </group>
                <group invisible="not(_interface_company_type == 'online_meeting')">
                    <field name="website" string="Website" widget="url" placeholder="e.g. https://www.odoo.com"/>
                    <field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"
                           placeholder='e.g. "B2B", "VIP", "Consulting", ...'/>
                </group>
            </xpath>

            <!-- new contacts category -->
            <xpath expr="//form//sheet//div//field[@name='company_type']" position="after">
                <field name="_interface_company_type" options="{'horizontal': true}" readonly="_compute_readonly_field" invisible="_interface_company_type == 'person'"/>
                <div class="o_field_widget o_field_selection" invisible="_interface_company_type != 'person'">
                    User
                </div>
                <field name="_compute_readonly_field" invisible="1"/>
            </xpath>
            <xpath expr="//form//sheet//div//field[@name='company_type']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!-- notebook -->
            <!-- <xpath expr="//form//sheet//div//div//field[@name='parent_id']" position="attributes">
                <attribute name="domain">[('_interface_company_type', '=', 'company')]</attribute>
            </xpath>
            <xpath expr="//form//sheet//notebook[@colspan='4']" position="attributes">
                <attribute name="invisible">_interface_company_type != 'company'</attribute>
            </xpath> -->
        </field>
    </record>

    <record id="inherit_view_res_partner_filter" model="ir.ui.view">
        <field name="name">inherit_view_res_partner_filter</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//search//filter[@name='type_company']" position="after">
                <filter string="Speakers" name="type_speaker" domain="[('_interface_company_type', '=', 'specker')]"/>
                <filter string="User" name="type_individual" domain="[('_interface_company_type', '=', 'person')]"/>
                <filter string="Locations" name="type_location" domain="[('_interface_company_type', '=', 'location')]"/>
                <filter string="Online Meeting" name="type_online_meeting" domain="[('_interface_company_type', '=', 'online_meeting')]"/>
                <filter string="Companies" name="type_company" domain="[('_interface_company_type', '=', 'company')]"/>

                <filter string="Not User" name="not_type_speaker" domain="[('_interface_company_type', '!=', 'person')]"/>
            </xpath>
            <xpath expr="//search//filter[@name='type_person']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//search//filter[@name='type_company']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <record id="view_res_partner_filter_locations_online_meetings" model="ir.ui.view">
        <field name="name">view_res_partner_filter_locations_online_meetings</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <search>
                <filter string="Locations" name="_type_location" domain="[('_interface_company_type', '=', 'location')]"/>
                <filter string="Online Meetings" name="_type_online_meeting" domain="[('_interface_company_type', '=', 'online_meeting')]"/>
            </search>
        </field>
    </record>

    <record id="view_res_partner_filter_not_individual" model="ir.ui.view">
        <field name="name">view_res_partner_filter_not_individual</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <search>
                <filter string="Not User" name="not_type_speaker" domain="[('_interface_company_type', '!=', 'person')]"/>
            </search>
        </field>
    </record>

    <record id="contacts.action_contacts" model="ir.actions.act_window">
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,tree,activity</field>
        <field name="context">{'default_is_company': True, 'search_default_not_type_speaker':1}</field>
     </record>

</odoo>